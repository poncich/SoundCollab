<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–µ–∫—Ç—ã - SoundCollab</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="https://i.imgur.com/8kLxQ9p.png" type="image/x-icon">
    <style>
        .projects-header {
            background: linear-gradient(135deg, 
                rgba(79, 172, 254, 0.1) 0%, 
                rgba(0, 242, 254, 0.1) 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }
        
        .projects-toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .projects-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            color: #b0b0b0;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .filter-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .filter-btn.active {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            border-color: transparent;
            color: white;
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .project-card-large {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .project-card-large:hover {
            transform: translateY(-8px);
            border-color: rgba(79, 172, 254, 0.3);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        .project-status {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-active {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }
        
        .status-draft {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }
        
        .status-paused {
            background: rgba(107, 114, 128, 0.2);
            color: #b0b0b0;
        }
        
        .project-cover {
            width: 100%;
            height: 150px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
        }
        
        .project-members {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }
        
        .member-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: bold;
            margin-right: -10px;
            border: 2px solid #121212;
        }
        
        .more-members {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #b0b0b0;
            border: 2px solid #121212;
        }
        
        .project-progress {
            margin: 20px 0;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 12px;
            color: #b0b0b0;
        }
        
        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 1s ease;
        }
        
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            grid-column: 1 / -1;
        }
        
        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        @media (max-width: 768px) {
            .projects-grid {
                grid-template-columns: 1fr;
            }
            
            .projects-toolbar {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">üéµ</div>
                <div class="logo-text">
                    <span class="logo-text-main">Sound</span>
                    <span class="logo-text-accent">Collab</span>
                </div>
            </div>
            <div class="nav-links">
                <a href="dashboard.html" class="nav-link">üè† –î–∞—à–±–æ—Ä–¥</a>
                <a href="music-feed-audio.html" class="nav-link">üéµ –ú—É–∑—ã–∫–∞</a>
                <a href="ai-images.html" class="nav-link">üé® AI –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</a>
                <a href="projects.html" class="nav-link active">üìÅ –ü—Ä–æ–µ–∫—Ç—ã</a>
                <button onclick="logout()" class="btn btn-secondary btn-small">
                    üëã –í—ã–π—Ç–∏
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="projects-header">
            <h1>üìÅ –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</h1>
            <p style="color: #b0b0b0; margin-top: 10px;">
                –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤—Å–µ–º–∏ –≤–∞—à–∏–º–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
            </p>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="projects-toolbar">
            <div class="projects-filters" id="filters">
                <button class="filter-btn active" data-filter="all">–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</button>
                <button class="filter-btn" data-filter="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
                <button class="filter-btn" data-filter="draft">–ß–µ—Ä–Ω–æ–≤–∏–∫–∏</button>
                <button class="filter-btn" data-filter="collaboration">–ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–∏</button>
                <button class="filter-btn" data-filter="personal">–õ–∏—á–Ω—ã–µ</button>
            </div>
            
            <div>
                <button class="btn btn-primary" id="new-project-btn">
                    üéµ –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
                </button>
            </div>
        </div>

        <!-- –°–µ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
        <div class="projects-grid" id="projects-grid">
            <!-- –ü—Ä–æ–µ–∫—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            const user = localStorage.getItem('soundcollab_user');
            if (!user) {
                window.location.href = 'login.html';
                return;
            }
            
            // –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
            window.logout = function() {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                    localStorage.removeItem('soundcollab_user');
                    localStorage.removeItem('soundcollab_premium');
                    window.location.href = 'index.html';
                }
            };
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–µ–∫—Ç—ã
            loadProjects();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã
            setupFilters();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏
            setupButtons();
        });
        
        function loadProjects() {
            const projects = [
                {
                    id: 1,
                    name: "Summer Vibes",
                    type: "–¢—Ä–µ–∫",
                    description: "–õ–µ—Ç–Ω—è—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞ —Å —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–º–∏ –±–∏—Ç–∞–º–∏",
                    color: "#667eea",
                    status: "active",
                    progress: 85,
                    members: 3,
                    created: "15 —è–Ω–≤ 2024",
                    tags: ["–ª–µ—Ç–æ", "—ç–ª–µ–∫—Ç—Ä–æ", "—á–∏–ª–ª"],
                    isCollaboration: true
                },
                {
                    id: 2,
                    name: "Lo-Fi Study",
                    type: "–ê–ª—å–±–æ–º",
                    description: "–†–∞—Å—Å–ª–∞–±–ª—è—é—â–∏–µ –ª—É–ø—ã –¥–ª—è —É—á–µ–±—ã –∏ —Ä–∞–±–æ—Ç—ã",
                    color: "#764ba2",
                    status: "active",
                    progress: 60,
                    members: 2,
                    created: "10 —è–Ω–≤ 2024",
                    tags: ["lo-fi", "—É—á–µ–±–∞", "—Ä–µ–ª–∞–∫—Å"],
                    isCollaboration: true
                },
                {
                    id: 3,
                    name: "Night Drive",
                    type: "–¢—Ä–µ–∫",
                    description: "–°–∏–Ω—Ç–≤–µ–π–≤ –¥–ª—è –Ω–æ—á–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫",
                    color: "#4facfe",
                    status: "paused",
                    progress: 45,
                    members: 1,
                    created: "5 —è–Ω–≤ 2024",
                    tags: ["—Å–∏–Ω—Ç–≤–µ–π–≤", "–Ω–æ—á—å", "–¥—Ä–∞–π–≤"],
                    isCollaboration: false
                },
                {
                    id: 4,
                    name: "Morning Jazz",
                    type: "EP",
                    description: "–£—Ç—Ä–µ–Ω–Ω–∏–µ –¥–∂–∞–∑–æ–≤—ã–µ –∏–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏–∏",
                    color: "#f093fb",
                    status: "draft",
                    progress: 20,
                    members: 1,
                    created: "1 —è–Ω–≤ 2024",
                    tags: ["–¥–∂–∞–∑", "—É—Ç—Ä–æ", "–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª"],
                    isCollaboration: false
                },
                {
                    id: 5,
                    name: "Neon Dreams",
                    type: "–°–∏–Ω–≥–ª",
                    description: "–≠–ª–µ–∫—Ç—Ä–æ-–ø–æ–ø —Å –Ω–µ–æ–Ω–æ–≤–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π",
                    color: "#FF6B6B",
                    status: "active",
                    progress: 75,
                    members: 4,
                    created: "20 —è–Ω–≤ 2024",
                    tags: ["—ç–ª–µ–∫—Ç—Ä–æ-–ø–æ–ø", "–Ω–µ–æ–Ω", "–º–µ–ª–æ–¥–∏—è"],
                    isCollaboration: true
                },
                {
                    id: 6,
                    name: "Forest Echoes",
                    type: "–ê–ª—å–±–æ–º",
                    description: "–≠–º–±–∏–µ–Ω—Ç –∑–≤—É–∫–∏ –ø—Ä–∏—Ä–æ–¥—ã –∏ —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä—ã",
                    color: "#4ECDC4",
                    status: "draft",
                    progress: 30,
                    members: 2,
                    created: "25 —è–Ω–≤ 2024",
                    tags: ["—ç–º–±–∏–µ–Ω—Ç", "–ø—Ä–∏—Ä–æ–¥–∞", "–º–µ–¥–∏—Ç–∞—Ü–∏—è"],
                    isCollaboration: true
                }
            ];
            
            const container = document.getElementById('projects-grid');
            if (!container) return;
            
            if (projects.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üìÅ</div>
                        <h3>–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤</h3>
                        <p style="color: #b0b0b0; margin: 15px 0 25px;">
                            –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç
                        </p>
                        <button class="btn btn-primary" id="create-first-project">
                            üéµ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
                        </button>
                    </div>
                `;
                
                document.getElementById('create-first-project')?.addEventListener('click', createNewProject);
                return;
            }
            
            container.innerHTML = projects.map(project => `
                <div class="project-card-large" onclick="openProject(${project.id})">
                    <div class="project-status status-${project.status}">
                        ${project.status === 'active' ? 'üëë –ê–∫—Ç–∏–≤–Ω—ã–π' :
                          project.status === 'draft' ? 'üí§ –ß–µ—Ä–Ω–æ–≤–∏–∫' :
                          '‚è∏ –ù–∞ –ø–∞—É–∑–µ'}
                    </div>
                    
                    <div class="project-cover" style="background: linear-gradient(135deg, ${project.color}, ${project.color}80)">
                        ${project.type === '–¢—Ä–µ–∫' ? 'üéµ' :
                          project.type === '–ê–ª—å–±–æ–º' ? 'üíø' :
                          project.type === 'EP' ? 'üìÄ' :
                          project.type === '–°–∏–Ω–≥–ª' ? 'üé∂' : 'üéº'}
                    </div>
                    
                    <h3>${project.name}</h3>
                    <p style="color: #b0b0b0; font-size: 14px; margin: 8px 0 15px;">
                        ${project.description}
                    </p>
                    
                    <div style="display: flex; gap: 8px; margin-bottom: 15px;">
                        ${project.tags.map(tag => `
                            <span style="
                                background: rgba(255,255,255,0.1);
                                padding: 4px 10px;
                                border-radius: 12px;
                                font-size: 11px;
                                color: ${project.color};
                            ">${tag}</span>
                        `).join('')}
                    </div>
                    
                    <div class="project-members">
                        ${Array.from({ length: Math.min(project.members, 3) }).map((_, i) => `
                            <div class="member-avatar" style="
                                background: linear-gradient(135deg, 
                                    ${getMemberColor(i * 2)}, 
                                    ${getMemberColor(i * 2 + 1)});
                                z-index: ${3 - i};
                            ">
                                ${String.fromCharCode(65 + i)}
                            </div>
                        `).join('')}
                        
                        ${project.members > 3 ? `
                            <div class="more-members" style="z-index: 0;">
                                +${project.members - 3}
                            </div>
                        ` : ''}
                        
                        <div style="margin-left: auto; font-size: 12px; color: #b0b0b0;">
                            üìÖ ${project.created}
                        </div>
                    </div>
                    
                    <div class="project-progress">
                        <div class="progress-info">
                            <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                            <span>${project.progress}%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="
                                width: ${project.progress}%;
                                background: ${project.color};
                            "></div>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function getMemberColor(index) {
            const colors = [
                '#667eea', '#764ba2', '#f093fb', '#f5576c',
                '#4facfe', '#00f2fe', '#43e97b', '#38f9d7'
            ];
            return colors[index % colors.length];
        }
        
        function setupFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            const projectsGrid = document.getElementById('projects-grid');
            
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                    filterBtns.forEach(b => b.classList.remove('active'));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–π –∫–Ω–æ–ø–∫–µ
                    this.classList.add('active');
                    
                    // –ü–æ–ª—É—á–∞–µ–º —Ç–∏–ø —Ñ–∏–ª—å—Ç—Ä–∞
                    const filter = this.dataset.filter;
                    
                    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä (–≤ –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ)
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
                    if (filter === 'all') {
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã
                        const allProjects = document.querySelectorAll('.project-card-large');
                        allProjects.forEach(project => {
                            project.style.display = 'block';
                        });
                    } else {
                        // –ò–º–∏—Ç–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
                        alert(`–§–∏–ª—å—Ç—Ä "${getFilterName(filter)}" –ø—Ä–∏–º–µ–Ω–µ–Ω\n\n–í –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ —ç—Ç–æ –∏–º–∏—Ç–∞—Ü–∏—è. –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –±—É–¥–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤.`);
                    }
                });
            });
        }
        
        function getFilterName(filter) {
            const names = {
                'all': '–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã',
                'active': '–ê–∫—Ç–∏–≤–Ω—ã–µ',
                'draft': '–ß–µ—Ä–Ω–æ–≤–∏–∫–∏',
                'collaboration': '–ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏–∏',
                'personal': '–õ–∏—á–Ω—ã–µ'
            };
            return names[filter] || filter;
        }
        
        function setupButtons() {
            // –ö–Ω–æ–ø–∫–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
            const newProjectBtn = document.getElementById('new-project-btn');
            if (newProjectBtn) {
                newProjectBtn.addEventListener('click', createNewProject);
            }
        }
        
        function createNewProject() {
            const projectName = prompt('üéµ –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:', '–ú–æ–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç');
            if (!projectName || projectName.trim() === '') return;
            
            const projectTypes = ['–¢—Ä–µ–∫', '–ê–ª—å–±–æ–º', 'EP', '–°–∏–Ω–≥–ª', '–ú–∏–∫—Å—Ç–µ–π–ø'];
            const colors = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#FF6B6B', '#4ECDC4'];
            
            alert(`–ü—Ä–æ–µ–∫—Ç "${projectName}" —Å–æ–∑–¥–∞–Ω!\n\n–í –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ —ç—Ç–æ –∏–º–∏—Ç–∞—Ü–∏—è. –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É.`);
        }
        
        function openProject(projectId) {
            alert(`üéß –û—Ç–∫—Ä—ã—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ #${projectId}\n\n–í –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ —ç—Ç–æ –∏–º–∏—Ç–∞—Ü–∏—è. –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞.`);
        }
    </script>
</body>
</html>
