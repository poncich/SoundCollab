<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä - SoundCollab</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="https://i.imgur.com/8kLxQ9p.png" type="image/x-icon">
    <style>
        .ai-header {
            background: linear-gradient(135deg, 
                rgba(240, 147, 251, 0.1) 0%, 
                rgba(245, 87, 108, 0.1) 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }
        
        .ai-generator {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        
        .prompt-input {
            width: 100%;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            font-size: 16px;
            margin-bottom: 20px;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }
        
        .prompt-input:focus {
            outline: none;
            border-color: #f093fb;
            background: rgba(255, 255, 255, 0.08);
        }
        
        .style-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .style-option {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .style-option:hover {
            background: rgba(240, 147, 251, 0.2);
            border-color: #f093fb;
        }
        
        .style-option.active {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            border-color: transparent;
            color: white;
        }
        
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .ai-image {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .ai-image:hover {
            transform: scale(1.05);
        }
        
        .ai-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                rgba(102, 126, 234, 0.3), 
                rgba(118, 75, 162, 0.3));
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .ai-image:hover::before {
            opacity: 1;
        }
        
        .image-actions {
            position: absolute;
            bottom: 10px;
            right: 10px;
            display: flex;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .ai-image:hover .image-actions {
            opacity: 1;
        }
        
        .image-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.7);
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .image-btn:hover {
            background: rgba(0, 0, 0, 0.9);
        }
        
        .history-section {
            margin-top: 50px;
        }
        
        @media (max-width: 768px) {
            .image-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .image-grid {
                grid-template-columns: 1fr;
            }
            
            .style-options {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">üéµ</div>
                <div class="logo-text">
                    <span class="logo-text-main">Sound</span>
                    <span class="logo-text-accent">Collab</span>
                </div>
            </div>
            <div class="nav-links">
                <a href="dashboard.html" class="nav-link">üè† –î–∞—à–±–æ—Ä–¥</a>
                <a href="music-feed-audio.html" class="nav-link">üéµ –ú—É–∑—ã–∫–∞</a>
                <a href="ai-images.html" class="nav-link active">üé® AI –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</a>
                <a href="projects.html" class="nav-link">üìÅ –ü—Ä–æ–µ–∫—Ç—ã</a>
                <button onclick="logout()" class="btn btn-secondary btn-small">
                    üëã –í—ã–π—Ç–∏
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <div class="ai-header">
            <h1>üé® AI –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h1>
            <p style="color: #b0b0b0; margin-top: 10px;">
                –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ–±–ª–æ–∂–∫–∏ –¥–ª—è –≤–∞—à–∏—Ö —Ç—Ä–µ–∫–æ–≤ —Å –ø–æ–º–æ—â—å—é –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞
            </p>
        </div>

        <!-- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä -->
        <div class="ai-generator">
            <h3 style="margin-bottom: 20px;">‚ú® –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h3>
            
            <textarea 
                class="prompt-input" 
                id="prompt-input"
                placeholder="–û–ø–∏—à–∏—Ç–µ –æ–±–ª–æ–∂–∫—É –¥–ª—è –≤–∞—à–µ–≥–æ —Ç—Ä–µ–∫–∞... –ù–∞–ø—Ä–∏–º–µ—Ä: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø–µ–π–∑–∞–∂ —Å –Ω–µ–æ–Ω–æ–≤—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ –∏ —Å–∏–Ω—Ç–≤–µ–π–≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π'">
            </textarea>
            
            <div style="margin-bottom: 20px;">
                <h4 style="margin-bottom: 15px;">üé≠ –°—Ç–∏–ª—å</h4>
                <div class="style-options" id="style-options">
                    <div class="style-option active">–†–µ–∞–ª–∏–∑–º</div>
                    <div class="style-option">–ê–Ω–∏–º–µ</div>
                    <div class="style-option">–ü–∏–∫—Å–µ–ª—å-–∞—Ä—Ç</div>
                    <div class="style-option">–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è</div>
                    <div class="style-option">–í–∏–Ω—Ç–∞–∂</div>
                    <div class="style-option">–§—É—Ç—É—Ä–∏–∑–º</div>
                </div>
            </div>
            
            <button class="btn btn-primary" id="generate-btn" style="width: 100%; padding: 18px; font-size: 16px;">
                üé® –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            </button>
            
            <div style="text-align: center; margin-top: 20px; color: #b0b0b0; font-size: 14px;">
                <p>‚≠ê –í –ø—Ä–µ–º–∏—É–º –≤–µ—Ä—Å–∏–∏: –±–æ–ª—å—à–µ —Å—Ç–∏–ª–µ–π, –≤—ã—Å—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –±–µ–∑ –≤–æ–¥—è–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤</p>
            </div>
        </div>

        <!-- –ü—Ä–∏–º–µ—Ä—ã -->
        <div class="history-section">
            <h3 style="margin-bottom: 20px;">üñºÔ∏è –ü—Ä–∏–º–µ—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–π</h3>
            <div class="image-grid" id="examples-grid">
                <!-- –ü—Ä–∏–º–µ—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <!-- –ò—Å—Ç–æ—Ä–∏—è -->
        <div class="history-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>üìú –ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π</h3>
                <button class="btn btn-secondary btn-small" id="clear-history">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
            </div>
            <div class="image-grid" id="history-grid">
                <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        document.addEventListener('DOMContentLoaded', function() {
            const user = localStorage.getItem('soundcollab_user');
            if (!user) {
                window.location.href = 'login.html';
                return;
            }
            
            // –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞
            window.logout = function() {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                    localStorage.removeItem('soundcollab_user');
                    localStorage.removeItem('soundcollab_premium');
                    window.location.href = 'index.html';
                }
            };
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
            setupGenerator();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã
            loadExamples();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
            loadHistory();
        });
        
        function setupGenerator() {
            const styleOptions = document.querySelectorAll('.style-option');
            const generateBtn = document.getElementById('generate-btn');
            const clearHistoryBtn = document.getElementById('clear-history');
            
            // –í—ã–±–æ—Ä —Å—Ç–∏–ª—è
            styleOptions.forEach(option => {
                option.addEventListener('click', function() {
                    styleOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            generateBtn.addEventListener('click', function() {
                const prompt = document.getElementById('prompt-input').value;
                const activeStyle = document.querySelector('.style-option.active').textContent;
                
                if (!prompt.trim()) {
                    alert('üìù –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
                    return;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
                const originalText = this.textContent;
                this.innerHTML = '<span class="spinner-small"></span> –ì–µ–Ω–µ—Ä–∞—Ü–∏—è...';
                this.disabled = true;
                
                // –ò–º–∏—Ç–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI
                setTimeout(() => {
                    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                    this.textContent = originalText;
                    this.disabled = false;
                    
                    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    createGeneratedImage(prompt, activeStyle);
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ!', '–ù–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é', 'success');
                }, 2000);
            });
            
            // –û—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
            clearHistoryBtn.addEventListener('click', function() {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–π?')) {
                    localStorage.removeItem('ai_generation_history');
                    loadHistory();
                    showNotification('–ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞', '–í—Å–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–¥–∞–ª–µ–Ω—ã', 'warning');
                }
            });
        }
        
        function loadExamples() {
            const examples = [
                { id: 1, emoji: 'üåå', title: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø–µ–π–∑–∞–∂', style: '–§—É—Ç—É—Ä–∏–∑–º' },
                { id: 2, emoji: 'üé∏', title: '–†–æ–∫-–∫–æ–Ω—Ü–µ—Ä—Ç', style: '–†–µ–∞–ª–∏–∑–º' },
                { id: 3, emoji: 'üåÉ', title: '–ù–æ—á–Ω–æ–π –≥–æ—Ä–æ–¥', style: '–ê–Ω–∏–º–µ' },
                { id: 4, emoji: 'üåä', title: '–û–∫–µ–∞–Ω—Å–∫–∏–µ –≤–æ–ª–Ω—ã', style: '–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è' },
                { id: 5, emoji: 'üî•', title: '–û–≥–Ω–µ–Ω–Ω—ã–π –¥—Ä–∞–∫–æ–Ω', style: '–ê–Ω–∏–º–µ' },
                { id: 6, emoji: 'üé≠', title: '–¢–µ–∞—Ç—Ä–∞–ª—å–Ω–∞—è –º–∞—Å–∫–∞', style: '–í–∏–Ω—Ç–∞–∂' }
            ];
            
            const container = document.getElementById('examples-grid');
            if (!container) return;
            
            container.innerHTML = examples.map(example => `
                <div class="ai-image" style="background: linear-gradient(135deg, ${getRandomColor()}, ${getRandomColor()})">
                    <div style="font-size: 60px;">${example.emoji}</div>
                    <div class="image-actions">
                        <button class="image-btn" onclick="useExample(${example.id})">üîÑ</button>
                        <button class="image-btn" onclick="downloadImage(${example.id})">‚¨áÔ∏è</button>
                    </div>
                    <div style="
                        position: absolute;
                        bottom: 10px;
                        left: 10px;
                        background: rgba(0,0,0,0.7);
                        color: white;
                        padding: 5px 10px;
                        border-radius: 6px;
                        font-size: 12px;
                    ">
                        ${example.title}
                    </div>
                </div>
            `).join('');
        }
        
        function loadHistory() {
            let history = JSON.parse(localStorage.getItem('ai_generation_history') || '[]');
            
            const container = document.getElementById('history-grid');
            if (!container) return;
            
            if (history.length === 0) {
                container.innerHTML = `
                    <div style="
                        grid-column: 1 / -1;
                        text-align: center;
                        padding: 60px 20px;
                        color: #b0b0b0;
                    ">
                        <div style="font-size: 48px; margin-bottom: 20px; opacity: 0.5;">üñºÔ∏è</div>
                        <h4>–ò—Å—Ç–æ—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –ø—É—Å—Ç–∞</h4>
                        <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ –ø–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é AI</p>
                    </div>
                `;
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
            const recentHistory = history.slice(-6);
            
            container.innerHTML = recentHistory.map(item => `
                <div class="ai-image" style="background: linear-gradient(135deg, ${item.color1}, ${item.color2})">
                    <div style="font-size: 60px;">${item.emoji}</div>
                    <div class="image-actions">
                        <button class="image-btn" onclick="regenerateImage('${item.id}')">üîÑ</button>
                        <button class="image-btn" onclick="downloadImage('${item.id}')">‚¨áÔ∏è</button>
                        <button class="image-btn" onclick="deleteImage('${item.id}')">üóëÔ∏è</button>
                    </div>
                    <div style="
                        position: absolute;
                        bottom: 10px;
                        left: 10px;
                        background: rgba(0,0,0,0.7);
                        color: white;
                        padding: 5px 10px;
                        border-radius: 6px;
                        font-size: 12px;
                        max-width: calc(100% - 20px);
                        overflow: hidden;
                        text-overflow: ellipsis;
                        white-space: nowrap;
                    " title="${item.prompt}">
                        ${item.prompt.length > 20 ? item.prompt.substring(0, 20) + '...' : item.prompt}
                    </div>
                </div>
            `).join('');
        }
        
        function createGeneratedImage(prompt, style) {
            const emojis = ['üé®', '‚ú®', 'üåü', 'üî•', 'üí´', 'üåå', 'üé≠', 'üåà', '‚ö°', 'üå†'];
            const colors = [
                ['#667eea', '#764ba2'],
                ['#f093fb', '#f5576c'],
                ['#4facfe', '#00f2fe'],
                ['#43e97b', '#38f9d7'],
                ['#fa709a', '#fee140'],
                ['#30cfd0', '#330867'],
                ['#a8edea', '#fed6e3'],
                ['#5ee7df', '#b490ca'],
                ['#d299c2', '#fef9d7'],
                ['#89f7fe', '#66a6ff']
            ];
            
            const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
            const randomColors = colors[Math.floor(Math.random() * colors.length)];
            
            const generation = {
                id: Date.now().toString(),
                prompt: prompt,
                style: style,
                emoji: randomEmoji,
                color1: randomColors[0],
                color2: randomColors[1],
                createdAt: new Date().toISOString()
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
            let history = JSON.parse(localStorage.getItem('ai_generation_history') || '[]');
            history.push(generation);
            localStorage.setItem('ai_generation_history', JSON.stringify(history));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            loadHistory();
        }
        
        function getRandomColor() {
            const colors = [
                '#667eea', '#764ba2', '#f093fb', '#f5576c', 
                '#4facfe', '#00f2fe', '#43e97b', '#38f9d7',
                '#fa709a', '#fee140', '#30cfd0', '#330867'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        function useExample(exampleId) {
            const examples = [
                { id: 1, prompt: '–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –ø–µ–π–∑–∞–∂ —Å –Ω–µ–æ–Ω–æ–≤—ã–º–∏ –ø–ª–∞–Ω–µ—Ç–∞–º–∏ –∏ –∑–≤–µ–∑–¥–Ω–æ–π –ø—ã–ª—å—é' },
                { id: 2, prompt: '–†–æ–∫-–∫–æ–Ω—Ü–µ—Ä—Ç –Ω–∞ –æ–≥—Ä–æ–º–Ω–æ–π –∞—Ä–µ–Ω–µ —Å –ª–∞–∑–µ—Ä–Ω—ã–º —à–æ—É' },
                { id: 3, prompt: '–ù–æ—á–Ω–æ–π –≥–æ—Ä–æ–¥ –≤ —Å—Ç–∏–ª–µ –∫–∏–±–µ—Ä–ø–∞–Ω–∫ —Å –Ω–µ–æ–Ω–æ–≤—ã–º–∏ –≤—ã–≤–µ—Å–∫–∞–º–∏' },
                { id: 4, prompt: '–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –æ–∫–µ–∞–Ω—Å–∫–∏–µ –≤–æ–ª–Ω—ã —Å –ø–µ—Ä–µ–ª–∏–≤–∞—é—â–∏–º–∏—Å—è —Ü–≤–µ—Ç–∞–º–∏' },
                { id: 5, prompt: '–û–≥–Ω–µ–Ω–Ω—ã–π –¥—Ä–∞–∫–æ–Ω –ª–µ—Ç–∞—é—â–∏–π –Ω–∞–¥ –≤—É–ª–∫–∞–Ω–∞–º–∏ –≤ —Ñ—ç–Ω—Ç–µ–∑–∏ —Å—Ç–∏–ª–µ' },
                { id: 6, prompt: '–í–∏–Ω—Ç–∞–∂–Ω–∞—è —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–∞—è –º–∞—Å–∫–∞ —Å —É–∑–æ—Ä–∞–º–∏ –∏ –ø–∞—Ç–∏–Ω–æ–π' }
            ];
            
            const example = examples.find(e => e.id === exampleId);
            if (example) {
                document.getElementById('prompt-input').value = example.prompt;
                showNotification('–ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω', '–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ —Å—Ä–∞–∑—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å', 'info');
            }
        }
        
        function regenerateImage(imageId) {
            if (confirm('–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ?')) {
                showNotification('–†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è...', '–°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'info');
                // –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ AI API
            }
        }
        
        function downloadImage(imageId) {
            alert('üì• –í –¥–µ–º–æ-—Ä–µ–∂–∏–º–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ. –í —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.');
        }
        
        function deleteImage(imageId) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏?')) {
                let history = JSON.parse(localStorage.getItem('ai_generation_history') || '[]');
                history = history.filter(item => item.id !== imageId);
                localStorage.setItem('ai_generation_history', JSON.stringify(history));
                loadHistory();
                showNotification('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ', '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏', 'warning');
            }
        }
        
        function showNotification(title, message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'linear-gradient(135deg, #10b981, #059669)' : 
                             type === 'error' ? 'linear-gradient(135deg, #ef4444, #dc2626)' : 
                             type === 'warning' ? 'linear-gradient(135deg, #f59e0b, #d97706)' :
                             'linear-gradient(135deg, #667eea, #764ba2)'};
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideIn 0.3s ease-out;
                max-width: 350px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255,255,255,0.1);
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: flex-start; gap: 12px;">
                    <div style="font-size: 20px;">
                        ${type === 'success' ? '‚úÖ' : 
                          type === 'error' ? '‚ùå' : 
                          type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}
                    </div>
                    <div>
                        <div style="font-weight: 600; margin-bottom: 4px;">${title}</div>
                        <div style="font-size: 14px; opacity: 0.9;">${message}</div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
            if (!document.querySelector('#notification-animations')) {
                const style = document.createElement('style');
                style.id = 'notification-animations';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–∏–Ω–Ω–µ—Ä
        if (!document.querySelector('#spinner-styles')) {
            const style = document.createElement('style');
            style.id = 'spinner-styles';
            style.textContent = `
                .spinner-small {
                    display: inline-block;
                    width: 16px;
                    height: 16px;
                    border: 2px solid rgba(255,255,255,0.3);
                    border-radius: 50%;
                    border-top-color: white;
                    animation: spin 1s linear infinite;
                    margin-right: 8px;
                    vertical-align: middle;
                }
                
                @keyframes spin {
                    to { transform: rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
        }
    </script>
</body>
</html>
